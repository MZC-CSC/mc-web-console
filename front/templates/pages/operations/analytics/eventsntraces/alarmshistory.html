<div class="page-body">
  <div class="container-xl">
    <div class="row row-cards">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Alarms</h3>
            <div
              class="card-actions btn-actions"
              style="justify-content: center"
            >
              <!-- filter -->
              <a
                class="btn-action"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#filterbody"
                aria-expanded="false"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="icon icon-tabler icons-tabler-outline icon-tabler-filter"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path
                    d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"
                  />
                </svg>
              </a>

              <!-- refresh -->
              <a
                class="btn-action"
                onclick="webconsolejs['pages/operation/manage/eventalarm'].refreshAlarmList()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"
                >
                  <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                  <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" />
                  <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" />
                </svg>
              </a>
            </div>
          </div>

          <div id="filterbody" class="accordion-collapse collapse">
            <div class="accordion-body p-3 row">
              <div class="col-sm-12 col-md-2 row mb-1">
                <div class="col-4 col-form-label required d-flex justify-content-end">
                  Field
                </div>
                <select class="col form-select" id="filter-field">
                  <option value="name">Name</option>
                  <option value="status">Status</option>
                  <option value="level">Level</option>
                  <option value="measurement">Measurement</option>
                  <option value="field">Field</option>
                  <option value="create_at">Create_at</option>
                </select>
              </div>

              <div class="col-sm-12 col-md-2 row mb-1">
                <div class="col-4 col-form-label d-flex justify-content-end">
                  Type
                </div>
                <select class="col form-select" id="filter-type">
                  <option value="like">like</option>
                  <option value="=">=</option>
                  <option value="<"><</option>
                  <option value="<="><=</option>
                  <option value=">">></option>
                  <option value=">=">>=</option>
                  <option value="!=">!=</option>
                </select>
              </div>

              <div class="col-sm-12 col-md-8 row mb-1">
                <div
                  class="col-sm-4 col-md-1 col-form-label required d-flex justify-content-end"
                >
                  Filter
                </div>
                <input
                  class="col form-control"
                  id="filter-value"
                  type="text"
                  placeholder="value to filter"
                />
                <div class="col-auto">
                  <a
                    id="filter-clear"
                    class="btn btn-icon"
                    type="button"
                    aria-label="Button"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="icon icon-tabler icons-tabler-outline icon-tabler-x"
                    >
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M18 6l-12 12" />
                      <path d="M6 6l12 12" />
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card-body">
            <div class="row">
              <div class="card-table table-responsive">
                <!-- Tabulator TABLE SET -->
                <div id="policylist-table"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="container-xl">
            <div class="row row-cards">
              <div class="col">
                <div class="card section" id="policy_info">
                  <div class="card-header">
                    <ul
                      class="nav nav-tabs card-header-tabs"
                      data-bs-toggle="tabs"
                      role="tablist"
                    >
                      <li class="nav-item" role="presentation">
                        <a
                          href="#tabs_alarm_details"
                          class="nav-link active"
                          data-bs-toggle="tab"
                          aria-selected="true"
                          role="tab"
                          >Detail</a
                        >
                      </li>
                      <li class="nav-item" role="presentation">
                        <a
                          href="#tabs_alarm_eventalarms"
                          class="nav-link"
                          data-bs-toggle="tab"
                          aria-selected="false"
                          tabindex="-1"
                          role="tab"
                          >Event & Alarms</a
                        >
                      </li>
                    </ul>
                  </div>
                  <div class="card-body">
                    <div class="container">
                      <div class="tab-content">
                        <div
                          class="tab-pane fade active show"
                          id="tabs_alarm_details"
                          role="tabpanel"
                        >
                          <div class="container">
                            <div class="row">
                              <!-- 여기 정보 -->
                              <div class="col-lg-auto">
                                <div class="datagrid">
                                  <div class="datagrid-item">
                                    <div class="form-label">Name</div>
                                    <div class="form-description" id="policy_name"> </div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Description</div>
                                    <div class="form-description" id="policy_description"> </div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Status</div>
                                    <div class="form-description" id="policy_status"></div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Measurement</div>
                                    <div class="form-description" id="policy_measurement"> </div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Metric</div>
                                    <div class="form-description" id="policy_metric"> </div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Statistics</div>
                                    <div class="form-description" id="policy_statistics"> </div>
                                  </div>
                                  <div class="datagrid-item">
                                    <div class="form-label">Value</div>
                                    <div class="form-description" id="policy_value"> </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="tab-pane fade"
                          id="tabs_alarm_eventalarms"
                          role="tabpanel"
                        >
                          <div class="container">
                            <div class="row">
                              <div class="card-table table-responsive">
                                <!-- Tabulator TABLE SET -->
                                <div id="eventAlarmlist-table"></div>
                              </div>
                              <div class="card section" id="event_info">
                                  <div class="row">
                                    <div class="col-md-6">
                                      <div class="form-group mb-2">
                                        <div class="form-label">Occur Time</div>
                                        <div class="form-description" id="event_occurtime"> </div>
                                      </div>
                                      <div class="form-group mb-2">
                                        <div class="form-label">Metric</div>
                                        <div class="form-description" id="event_metric"> </div>
                                      </div>
                                      <div class="form-group mb-2">
                                        <div class="form-label">Level</div>
                                        <div class="form-description" id="event_level"> </div>
                                      </div>
                                    </div>
                                    <div class="col-md-6">
                                      <div class="form-group mb-2">              
                                        <div class="form-label">HostName</div>
                                        <div class="form-description" id="event_hostname"> </div>              
                                      </div>                                        
                                      <div class="form-group mb-2">              
                                        <div class="form-label">Policy seq</div>
                                        <div class="form-description" id="event_policyseq"> </div>              
                                      </div>
                                      <div class="form-group mb-2">              
                                        <div class="form-label">Data</div>
                                        <div class="form-description" id="event_data"> </div>              
                                      </div>  
                                    </div>       
                                  </div>
                                </div>
                              </div>
                              <!-- 여기 정보 -->
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 카드엔드 -->
      </div>
    </div>
  </div>
</div>

<%= javascriptTag("pages/operation/manage/eventalarm.js") %> <%=
javascriptTag("partials/operation/manage/server_monitoring.js") %> <%=
javascriptTag("common/api/services/eventalarm_api.js") %> <%=
javascriptTag("common/api/services/monitoring_api.js") %>
